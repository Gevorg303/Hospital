<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Информация об образовании</title>
    <form action="/" method="get">
        <button type="submit">Вернуться на главную</button>
    </form>
    <script>
        function confirmDelete() {
            return confirm("Вы уверены, что хотите удалить это образование?");
        }

        function showError() {
            alert("Это образование используется в таблице сотрудников и не может быть удалено.");
        }

        function validateForm() {
            var name = document.getElementById("name").value;
            if (name === "") {
                alert("Пожалуйста, заполните поле 'Наименование'.");
                return false;
            }
            // Добавьте другие проверки, если необходимо
            return true;
        }
    </script>
</head>
<body>
<h1>Информация об образовании</h1>

<table border="1">
    <thead>
    <tr>
        <th>Наименование</th>
        <th>Описание</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="education : ${educationList}">
        <td th:text="${education.name}"></td>
        <td th:text="${education.description}"></td>
        <td>
            <a th:href="@{'/education/delete/' + ${education.id}}"
               onclick="return confirmDelete()">Удалить</a>
        </td>
    </tr>
    <tr th:if="${educationList.isEmpty()}">
        <td colspan="4">Нет данных об образовании</td>
    </tr>
    </tbody>
</table>
<div id="addForm">
    <h2>Добавить образование</h2>
    <form action="/education/add" method="post" th:object="${newEducation}" onsubmit="return validateForm()">
        <label for="name">Наименование:</label>
        <input type="text" id="name" name="name" placeholder="Наименование" required/><br/>
        <label for="description">Описание:</label>
        <input type="text" id="description" name="description" placeholder="Описание"/><br/>
        <button type="submit">Добавить</button>
    </form>
</div>

<script th:if="${deletionError}">
    showError();
</script>
</body>
</html>
